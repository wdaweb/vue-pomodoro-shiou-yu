import{x as ae,y as Y,z as E,A as ie,m as i,B as oe,C as ve,h as l,D as ne,i as X,M as Te,E as Re,G as me,H as Ne,I as $e,J as Ee,K as Ae,L as Le,N as Se,c as p,r as L,O as De,P as Ue,w as Me,Q as Oe,R as qe,S as We,T as Ke,F as T,U as te,W as ze,X as He,Y as Xe,Z as ce,$ as fe,a0 as Ye,a1 as Ze,s as je,a2 as ge,a3 as Ge,a4 as Je,a5 as Qe,a6 as et,n as le,a7 as tt,a8 as ye,k as lt,l as B,v as nt,f as $,a9 as he,e as A,p as xe,u as be,aa as at,ab as it,q as Ce,V as z}from"./index-CuE9uGbX.js";import{u as ot}from"./list-CzYqL-mK.js";import{V as st,a as H,b as Ve}from"./VDivider-Da6zjouu.js";import{V as ut,m as rt,u as we,a as dt,b as ke,f as ct,c as ft,d as _e}from"./forwardRefs-DRA8JWJT.js";class Q{constructor(n){const s=document.body.currentCSSZoom??1,a=n instanceof Element,t=a?1+(1-s)/s:1,{x:d,y:c,width:h,height:m}=a?n.getBoundingClientRect():n;this.x=d*t,this.y=c*t,this.width=h*t,this.height=m*t}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function vt(e){const n=new Q(e),s=getComputedStyle(e),a=s.transform;if(a){let t,d,c,h,m;if(a.startsWith("matrix3d("))t=a.slice(9,-1).split(/, /),d=Number(t[0]),c=Number(t[5]),h=Number(t[12]),m=Number(t[13]);else if(a.startsWith("matrix("))t=a.slice(7,-1).split(/, /),d=Number(t[0]),c=Number(t[3]),h=Number(t[4]),m=Number(t[5]);else return new Q(n);const g=s.transformOrigin,k=n.x-h-(1-d)*parseFloat(g),I=n.y-m-(1-c)*parseFloat(g.slice(g.indexOf(" ")+1)),R=d?n.width/d:e.offsetWidth+1,u=c?n.height/c:e.offsetHeight+1;return new Q({x:k,y:I,width:R,height:u})}else return new Q(n)}function mt(e,n,s){if(typeof e.animate>"u")return{finished:Promise.resolve()};let a;try{a=e.animate(n,s)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(t=>{a.onfinish=()=>{t(a)}})),a}const gt=Y({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...me(),...Re({transition:{component:Ne}})},"VCounter"),yt=ae()({name:"VCounter",functional:!0,props:gt(),setup(e,n){let{slots:s}=n;const a=E(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ie(()=>i(Te,{transition:e.transition},{default:()=>[oe(l("div",{class:X(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:ne(e.style)},[s.default?s.default({counter:a.value,max:e.max,value:e.value}):a.value]),[[ve,e.active]])]})),{}}}),ht=Y({floating:Boolean,...me()},"VFieldLabel"),ee=ae()({name:"VFieldLabel",props:ht(),setup(e,n){let{slots:s}=n;return ie(()=>i(ut,{class:X(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:ne(e.style)},s)),{}}}),xt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Pe=Y({appendInnerIcon:fe,bgColor:String,clearable:Boolean,clearIcon:{type:fe,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:fe,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>xt.includes(e)},"onClick:clear":ce(),"onClick:appendInner":ce(),"onClick:prependInner":ce(),...me(),...Xe(),...He(),...ze()},"VField"),Ie=ae()({name:"VField",inheritAttrs:!1,props:{id:String,details:Boolean,...rt(),...Pe()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:s,emit:a,slots:t}=n;const{themeClasses:d}=$e(e),{loaderClasses:c}=Ee(e),{focusClasses:h,isFocused:m,focus:g,blur:k}=we(e),{InputIcon:I}=dt(e),{roundedClasses:R}=Ae(e),{rtlClasses:u}=Le(),r=E(()=>e.dirty||e.active),o=E(()=>!!(e.label||t.label)),y=E(()=>!e.singleLine&&o.value),_=Se(),b=p(()=>e.id||`input-${_}`),Z=E(()=>e.details?`${b.value}-messages`:void 0),j=L(),D=L(),G=L(),f=p(()=>["plain","underlined"].includes(e.variant)),v=p(()=>e.error||e.disabled?void 0:r.value&&m.value?e.color:e.baseColor),F=p(()=>{if(!(!e.iconColor||e.glow&&!m.value))return e.iconColor===!0?v.value:e.iconColor}),{backgroundColorClasses:U,backgroundColorStyles:O}=De(()=>e.bgColor),{textColorClasses:N,textColorStyles:J}=Ue(v);Me(r,S=>{if(y.value&&!Oe()){const V=j.value.$el,w=D.value.$el;requestAnimationFrame(()=>{const P=vt(V),x=w.getBoundingClientRect(),M=x.x-P.x,q=x.y-P.y-(P.height/2-x.height/2),W=x.width/.75,ue=Math.abs(W-P.width)>1?{maxWidth:qe(W)}:void 0,re=getComputedStyle(V),K=getComputedStyle(w),de=parseFloat(re.transitionDuration)*1e3||150,Be=parseFloat(K.getPropertyValue("--v-field-label-scale")),pe=K.getPropertyValue("color");V.style.visibility="visible",w.style.visibility="hidden",mt(V,{transform:`translate(${M}px, ${q}px) scale(${Be})`,color:pe,...ue},{duration:de,easing:Ye,direction:S?"normal":"reverse"}).finished.then(()=>{V.style.removeProperty("visibility"),w.style.removeProperty("visibility")})})}},{flush:"post"});const C=p(()=>({isActive:r,isFocused:m,controlRef:G,blur:k,focus:g}));function se(S){S.target!==document.activeElement&&S.preventDefault()}return ie(()=>{const S=e.variant==="outlined",V=!!(t["prepend-inner"]||e.prependInnerIcon),w=!!(e.clearable||t.clear)&&!e.disabled,P=!!(t["append-inner"]||e.appendInnerIcon||w),x=()=>t.label?t.label({...C.value,label:e.label,props:{for:b.value}}):e.label;return l("div",te({class:["v-field",{"v-field--active":r.value,"v-field--appended":P,"v-field--center-affix":e.centerAffix??!f.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":V,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!x(),[`v-field--variant-${e.variant}`]:!0},d.value,U.value,h.value,c.value,R.value,u.value,e.class],style:[O.value,e.style],onClick:se},s),[l("div",{class:"v-field__overlay"},null),i(We,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),V&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&i(I,{key:"prepend-icon",name:"prependInner",color:F.value},null),t["prepend-inner"]?.(C.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&y.value&&i(ee,{key:"floating-label",ref:D,class:X([N.value]),floating:!0,for:b.value,"aria-hidden":!r.value,style:ne(J.value)},{default:()=>[x()]}),o.value&&i(ee,{key:"label",ref:j,for:b.value},{default:()=>[x()]}),t.default?.({...C.value,props:{id:b.value,class:"v-field__input","aria-describedby":Z.value},focus:g,blur:k})??l("div",{id:b.value,class:"v-field__input","aria-describedby":Z.value},null)]),w&&i(Ke,{key:"clear"},{default:()=>[oe(l("div",{class:"v-field__clearable",onMousedown:M=>{M.preventDefault(),M.stopPropagation()}},[i(Ze,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...C.value,props:{onFocus:g,onBlur:k,onClick:e["onClick:clear"],tabindex:-1}}):i(I,{name:"clear",onFocus:g,onBlur:k,tabindex:-1},null)]})]),[[ve,e.dirty]])]}),P&&l("div",{key:"append",class:"v-field__append-inner"},[t["append-inner"]?.(C.value),e.appendInnerIcon&&i(I,{key:"append-icon",name:"appendInner",color:F.value},null)]),l("div",{class:X(["v-field__outline",N.value]),style:ne(J.value)},[S&&l(T,null,[l("div",{class:"v-field__outline__start"},null),y.value&&l("div",{class:"v-field__outline__notch"},[i(ee,{ref:D,floating:!0,for:b.value,"aria-hidden":!r.value},{default:()=>[x()]})]),l("div",{class:"v-field__outline__end"},null)]),f.value&&y.value&&i(ee,{ref:D,floating:!0,for:b.value,"aria-hidden":!r.value},{default:()=>[x()]})])])}),{controlRef:G,fieldIconColor:F}}}),bt=Y({autocomplete:String},"autocomplete");function Ct(e){const n=Se(),s=je(0),a=E(()=>e.autocomplete==="suppress"),t=E(()=>{if(e.name)return a.value?`${e.name}-${n}-${s.value}`:e.name}),d=E(()=>a.value?"off":e.autocomplete);return{isSuppressing:a,fieldAutocomplete:d,fieldName:t,update:()=>s.value=new Date().getTime()}}function Vt(e){function n(s,a){if(!e.autofocus||!s)return;const t=a[0].target;(t.matches("input,textarea")?t:t.querySelector("input,textarea"))?.focus()}return{onIntersect:n}}const kt=["color","file","time","date","datetime-local","week","month"],_t=Y({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...bt(),...ft(),...Pe()},"VTextField"),Fe=ae()({name:"VTextField",directives:{vIntersect:ge},inheritAttrs:!1,props:_t(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:s,emit:a,slots:t}=n;const d=Ge(e,"modelValue"),{isFocused:c,focus:h,blur:m}=we(e),{onIntersect:g}=Vt(e),k=p(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:(d.value??"").toString().length),I=p(()=>{if(s.maxlength)return s.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),R=p(()=>["plain","underlined"].includes(e.variant)),u=L(),r=L(),o=L(),y=Ct(e),_=p(()=>kt.includes(e.type)||e.persistentPlaceholder||c.value||e.active);function b(){y.isSuppressing.value&&y.update(),c.value||h(),le(()=>{o.value!==document.activeElement&&o.value?.focus()})}function Z(f){a("mousedown:control",f),f.target!==o.value&&(b(),f.preventDefault())}function j(f){a("click:control",f)}function D(f,v){f.stopPropagation(),b(),le(()=>{v(),tt(e["onClick:clear"],f)})}function G(f){const v=f.target;if(!(e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type))){d.value=v.value;return}const F=v.value,U=v.selectionStart,O=v.selectionEnd;d.value=F,le(()=>{let N=0;F.trimStart().length===v.value.length&&(N=F.length-v.value.length),U!=null&&(v.selectionStart=U-N),O!=null&&(v.selectionEnd=O-N)})}return ie(()=>{const f=!!(t.counter||e.counter!==!1&&e.counter!=null),v=!!(f||t.details),[F,U]=Je(s),{modelValue:O,...N}=ke.filterProps(e),J=Ie.filterProps(e);return i(ke,te({ref:u,modelValue:d.value,"onUpdate:modelValue":C=>d.value=C,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":R.value},e.class],style:e.style},F,N,{centerAffix:!R.value,focused:c.value}),{...t,default:C=>{let{id:se,isDisabled:S,isDirty:V,isReadonly:w,isValid:P,hasDetails:x,reset:M}=C;return i(Ie,te({ref:r,onMousedown:Z,onClick:j,"onClick:clear":q=>D(q,M),role:e.role},Qe(J,["onClick:clear"]),{id:se.value,active:_.value||V.value,dirty:V.value||e.dirty,disabled:S.value,focused:c.value,details:x.value,error:P.value===!1}),{...t,default:q=>{let{props:{class:W,...ue},controlRef:re}=q;const K=l("input",te({ref:de=>o.value=re.value=de,value:d.value,onInput:G,autofocus:e.autofocus,readonly:w.value,disabled:S.value,name:y.fieldName.value,autocomplete:y.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:h,onBlur:m},ue,U),null);return l(T,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),oe(t.default?l("div",{class:X(W),"data-no-activator":""},[t.default(),K]):et(K,{class:W}),[[ge,g,null,{once:!0}]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:v?C=>l(T,null,[t.details?.(C),f&&l(T,null,[l("span",null,null),i(yt,{active:e.persistentCounter||c.value,value:k.value,max:I.value,disabled:e.disabled},t.counter)])]):void 0})}),ct({},u,r,o)}}),Pt={__name:"ListView",setup(e){const n=ot(),s=L(""),a=ye("inputTextField"),t=ye("editTextField"),d={required:u=>!!u||"必填欄位",length:u=>u.length>=3||"必須要三個字以上"},c=()=>{a.value.isValid&&(n.items.push({id:n.id++,text:s.value,edit:!1,input:s.value}),a.value.reset())},h=async u=>{!u&&!s.value&&(await le(),a.value.resetValidation())},m=u=>{u.edit=!0},g=(u,r)=>{t.value[r].isValid&&(u.text=u.input,u.edit=!1)},k=u=>{u.input=u.text,u.edit=!1},I=u=>{const r=n.items.findIndex(o=>o.id===u);n.items.splice(r,1)},R=u=>{const r=n.finishedItems.findIndex(o=>o.id===u);n.finishedItems.splice(r,1)};return(u,r)=>($(),lt(nt,null,{default:B(()=>[i(st,null,{default:B(()=>[i(H,{cols:"12"},{default:B(()=>[...r[1]||(r[1]=[l("h1",{class:"text-center"},"未完成",-1)])]),_:1}),i(Ve),i(H,{cols:"12"},{default:B(()=>[i(Fe,{ref_key:"inputTextField",ref:a,modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=o=>s.value=o),"append-icon":"mdi-plus",clearable:"",hint:"三個字以上才能新增",label:"新增事項",rules:[d.required,d.length],"onClick:append":c,onKeydown:he(c,["enter"]),"onUpdate:focused":h},null,8,["modelValue","rules"])]),_:1}),i(H,{cols:"12"},{default:B(()=>[i(_e,null,{default:B(()=>[r[2]||(r[2]=l("thead",null,[l("tr",null,[l("th",null,"事項"),l("th",null,"操作")])],-1)),l("tbody",null,[($(!0),A(T,null,xe(be(n).items,(o,y)=>($(),A("tr",{key:o.id},[l("td",null,[oe(i(Fe,{ref_for:!0,ref_key:"editTextField",ref:t,modelValue:o.input,"onUpdate:modelValue":_=>o.input=_,autofocus:"",rules:[d.required,d.length],onKeydown:he(_=>g(o,y),["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[ve,o.edit]]),o.edit?at("",!0):($(),A(T,{key:0},[it(Ce(o.text),1)],64))]),l("td",null,[o.edit?($(),A(T,{key:0},[i(z,{icon:"mdi-undo",onClick:_=>k(o)},null,8,["onClick"]),i(z,{icon:"mdi-check",onClick:_=>g(o,y)},null,8,["onClick"])],64)):($(),A(T,{key:1},[i(z,{icon:"mdi-pencil",onClick:_=>m(o)},null,8,["onClick"]),i(z,{icon:"mdi-delete",onClick:_=>I(o.id)},null,8,["onClick"])],64))])]))),128))])]),_:1})]),_:1}),i(H,{cols:"12"},{default:B(()=>[...r[3]||(r[3]=[l("h1",{class:"text-center"},"已完成",-1)])]),_:1}),i(Ve),i(H,{cols:"12"},{default:B(()=>[i(_e,null,{default:B(()=>[r[4]||(r[4]=l("thead",null,[l("tr",null,[l("th",null,"事項"),l("th",null,"操作")])],-1)),l("tbody",null,[($(!0),A(T,null,xe(be(n).finishedItems,o=>($(),A("tr",{key:o.id},[l("td",null,Ce(o.text),1),l("td",null,[i(z,{icon:"mdi-delete",onClick:y=>R(o.id)},null,8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Pt as default};
